<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Weather API</title>
    </head>
    <body>
        <div class="wrapper">
            <div class="row">
                <div id="weather-data">
                    <!-- here comes dynamic code -->
                </div>
            </div>
        </div>

        <script src="../vendor/jquery/jquery-3.7.1.min.js"></script>
        <script>
            let htmlOutput = "";
            function weatherDataInterval() {
                let url =
                    "https://api.openweathermap.org/data/2.5/weather?lat=47.795210&lon=13.047280&appid=1fea05490e4337ccbb644603f9bc18cc";
                $.getJSON(url, function (data) {
                    let celvin = data["main"]["temp"];
                    let celsius = celvin - 273.15;
                    htmlOutput +=
                        new Date(data["dt"]) +
                        "<div> " +
                        celsius.toFixed(2) +
                        " Grad Celsius</div>";

                    $("#weather-data").html(htmlOutput);
                });
            }
            window.setInterval(weatherDataInterval, 5000);
        </script>
    </body>
</html>
