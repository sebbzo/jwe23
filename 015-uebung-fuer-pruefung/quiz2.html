<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Quiz 2</title>
    </head>
    <body>
        <div class="wrapper">
            <div class="row">
                <div id="quiz">
                    <form>
                        <!-- Here Comes Dynamic JS Code -->
                    </form>
                </div>
            </div>
        </div>
        <script src="../vendor/jquery/jquery-3.7.1.min.js"></script>
        <script>
            let quizData = [
                {
                    question: "Welches Jahr wurde OpenAI gegründet?",
                    answers: ["2015", "2017", "2018", "2020"],
                    rightanswer: "2017",
                },
                {
                    question: `Welches Element hat das chemische Symbol "O"`,
                    answers: ["Eisen", "Sauerstoff", "Natrium", "Kohlenstoff"],
                    rightanswer: "Sauerstoff",
                },
                {
                    question:
                        "Welcher Planet ist der vierte in unserem Sonnensystem?",
                    answers: ["Venus", "Mars", "Jupiter", "Saturn"],
                    rightanswer: "Mars",
                },
                {
                    question:
                        "Welches Buch stammt von der Autorin J.K. Rowling?",
                    answers: [
                        "Der Hobbit",
                        "Die Tribute von Panem",
                        "Harry Potter und der Stein der Weisen",
                        "Der Da Vinci Code",
                    ],
                    rightanswer: "Harry Potter und der Stein der Weisen",
                },
            ];

            let htmlOut = "";
            let i = 0;

            let generateQuestion = function () {
                htmlOut = `<div class="form-group">
                        <label>
                          ${quizData[i].question}
                        </label>`;

                $.each(quizData[i].answers, function (key, entry) {
                    // Einzelne Antwortmöglichkeit
                    htmlOut += `<div class="form-check">
                                      <input class="form-check-input" type="radio" name="radioname" value="${i}"> <label class="form-check-label">${entry}</label>
                                    </div>`;
                });

                if (i < 3) {
                    htmlOut += `</div> <div class="form-group">
              <button type="button" class="btn btn-primary" name="button_name" value="Nächste Frage">Nächste Frage</button>
            </div>`;
                } else {
                    htmlOut += `</div> <div class="form-group">
              <button type="button" class="btn btn-primary" name="button_name" value="Ergebnis einsehen">Ergebnisse</button>
            </div>`;
                }

                $("#quiz form").html(htmlOut);

                $("button.btn.btn-primary").click(function (e) {
                    e.preventDefault();
                    // Ich brauche die Nummer bei welcher Frage es vorkommt
                    // Dann kann ich es nachschauen im Objekt und Prüfen ob es mit der richtigen Antwort übereinstimmt

                    console.log("Here");
                    i++;
                    generateQuestion();
                });
            };

            generateQuestion();
        </script>
    </body>
</html>
